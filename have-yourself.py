from asciimidi import play, Config
from note_util import stack, concat, make_lines, Note, set_key

"""
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---

=== === === === === === === ===
=== === === === === === === ===
=== === === === === === === ===
=== === === === === === === ===

=== === === === === === === ===
=== === === === === === === ===
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---



1 voice melody
3-voice accompaniment


8 bar pattern A (x2)

8 bar pattern B (x1)

8 bar pattern A

4 bar ending


same/similar bars:
arp_c: 0, 2, 8, 10, 24, 26
whole: 3, 6, 7, 11, 23, 27
desc_8s_4s (different notes): 1, 5, 9, 13, 25, 29, 33
double whole: 14-15

rhythms

qqqq

eeeeqq

w

"""

TUNING = """
C3 == == == == == == ==
C3 == == == == == == ==
C3 == == == == == == ==
C3 == == == == == == ==
"""



def song():
    #i = Note("C3", "C major")
    bars = [
        """
C3  === E3  === G3  === C4  ===
C2  === === === A2  === === ===
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
""",
        """
G3  F3  E3  D3  C3  === D3  ===
D2  === === === A2  === B2  ===
--- --- --- --- F2  === --- ---
--- --- --- --- --- --- --- ---
""",
        """
C3  === E3  === G3  === C4  ===
E2  === === === A2  === === ===
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
""",
        """
G3  === === === === === === ===
F3  === === === === === === ===
C3  === === === B2  === === ===
D2  === === === G2  === === ===
""",
        """
E3  === G3  === C4  === E4  ===
C3  === B2  === A2  === G2  ===
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
""",
        """
D4  C4  B3  A3  G3  === F3  ===
A3  --- --- --- B2  === === ===
F2  === === === --- --- D2  ===
--- --- --- --- --- --- --- ---
""",
        """
E3  === === === === === === ===
D3  === === === === === === ===
C2  === G2  === === === G2  ===
--- --- --- --- --- --- --- ---
""",
        """
G3  === === === === === === ===
F3  === === === === === === ===
D2  === G2  === === === G2  ===
--- --- --- --- --- --- --- ---
""",
# repeat
        """
C3  === E3  === G3  === C4  ===
C2  === === === A2  === === ===
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
""",
        """
G3  F3  E3  D3  C3  === D3  ===
D2  === === === A2  === B2  ===
--- --- --- --- F2  === --- ---
--- --- --- --- --- --- --- ---
""",
        """
C3  === E3  === G3  === C4  ===
E2  === === === A2  === === ===
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
""",
        """
G3  === === === === === === ===
F3  === === === === === === ===
C3  === === === B2  === === ===
D2  === === === G2  === === ===
""",
        """
E3  === G3  === C4  === E4  ===
C3  === B2  === A2  === G2  ===
--- --- --- --- --- --- --- ---
--- --- --- --- --- --- --- ---
""",
        """
D4  C4  B3  A3  G#3 === B3  ===
A3  --- --- --- --- --- --- ---
F2  === D3  === B2  === D3 === 
--- --- --- --- --- --- --- ---
""",
        """
C4  === === === === === === ===
E3  === === === === === === ===
A2  === C3  === === === C3  ===
--- --- --- --- --- --- --- ---
""",
        """
=== === === === E3  === C4  ===
=== === === === --- --- --- ---
G2  === C3  === --- --- --- ---
--- --- --- --- --- --- --- ---
""",
    ]
    return make_lines(bars*3)

play(song(), Config(beats_per_minute=87))

#play([TUNING], Config(beats_per_minute=10, loops=10))
